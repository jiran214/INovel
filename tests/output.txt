[32m2023-12-19 17:03:32.579[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_start[0m:[36m22[0m - [34m[1m> Entering new RunnableSequence chain...
[剧情]-刘备死了[0m
[32m2023-12-19 17:03:32.580[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_start[0m:[36m22[0m - [34m[1m> Entering new PipelinePromptTemplate chain...
[剧情]-刘备死了[0m
[32m2023-12-19 17:04:45.079[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_start[0m:[36m22[0m - [34m[1m> Entering new RunnableSequence chain...
{'title': '三国风云', 'description': '三国时期的政治斗争与战争', 'characters': [{'name': '刘备', 'description': '汉室宗亲，宁死不屈'}, {'name': '曹操', 'description': '魏国权臣，权谋老手'}, {'name': '孙权', 'description': '东吴君主，智勇双全'}], 'goal': '统一中国，结束乱世', 'total_chapters': 10, 'option_num': 3, 'language': '中文', 'current_chapter': 1, 'relate_characters': [], 'scene': None, 'play_context_window': '[剧情]-刘备死了', 'play_context_memory': '暂无'}[0m
[32m2023-12-19 17:04:45.080[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_start[0m:[36m22[0m - [34m[1m> Entering new PipelinePromptTemplate chain...
{'title': '三国风云', 'description': '三国时期的政治斗争与战争', 'characters': [{'name': '刘备', 'description': '汉室宗亲，宁死不屈'}, {'name': '曹操', 'description': '魏国权臣，权谋老手'}, {'name': '孙权', 'description': '东吴君主，智勇双全'}], 'goal': '统一中国，结束乱世', 'total_chapters': 10, 'option_num': 3, 'language': '中文', 'current_chapter': 1, 'relate_characters': [], 'scene': None, 'play_context_window': '[剧情]-刘备死了', 'play_context_memory': '暂无'}[0m
[32m2023-12-19 17:04:45.081[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_end[0m:[36m26[0m - [34m[1m> Finished chain.
{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'prompts', 'chat', 'ChatPromptValue'], 'kwargs': {'messages': [{'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'SystemMessage'], 'kwargs': {'content': '你是一个交互式小说生成器，玩家将作为主角推动故事的发展', 'additional_kwargs': {}}}, {'lc': 1, 'type': 'constructor', 'id': ['langchain', 'schema', 'messages', 'HumanMessage'], 'kwargs': {'content': '## 场景\nNone\n\n## 设定\n- 使用语言: 中文\n- 当前进度: 1/10\n\n## 相关剧情\n暂无\n\n## 剧情历史\n[剧情]-刘备死了\n\nThe output should be formatted as a JSON instance that conforms to the JSON schema below.\n\nAs an example, for the schema {"properties": {"foo": {"title": "Foo", "description": "a list of strings", "type": "array", "items": {"type": "string"}}}, "required": ["foo"]}\nthe object {"foo": ["bar", "baz"]} is a well-formatted instance of the schema. The object {"properties": {"foo": ["bar", "baz"]}} is not well-formatted.\n\nHere is the output schema:\n```\n{"properties": {"story": {"title": "Story", "description": "小说后续的剧情发展故事", "type": "string"}, "character": {"title": "Character", "description": "角色名字:决定玩家和哪个角色对话", "type": "string"}}, "required": ["story", "character"]}\n```\n\n## 指令\n请续写故事，从[{\'name\': \'刘备\', \'description\': \'汉室宗亲，宁死不屈\'}, {\'name\': \'曹操\', \'description\': \'魏国权臣，权谋老手\'}, {\'name\': \'孙权\', \'description\': \'东吴君主，智勇双全\'}]选择一个人物，该人物将会与玩家对话，推进剧情。\n', 'additional_kwargs': {}}}]}}[0m
[32m2023-12-19 17:04:47.991[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_start[0m:[36m22[0m - [34m[1m> Entering new PydanticParser chain...
content='{"story": "刘备死了，曹操和孙权都在为刘备的去世感到惋惜。他们决定举办一个盛大的葬礼来表达对刘备的敬意。", "character": "曹操"}'[0m
[32m2023-12-19 17:04:47.995[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_end[0m:[36m26[0m - [34m[1m> Finished chain.
{'lc': 1, 'type': 'not_implemented', 'id': ['src', 'schemas', 'Dialog'], 'repr': "Dialog(story='刘备死了，曹操和孙权都在为刘备的去世感到惋惜。他们决定举办一个盛大的葬礼来表达对刘备的敬意。', character='曹操', generator_func=None)"}[0m
[32m2023-12-19 17:04:47.996[0m | [34m[1mDEBUG   [0m | [36msrc.modules.utils[0m:[36mon_chain_end[0m:[36m26[0m - [34m[1m> Finished chain.
story='刘备死了，曹操和孙权都在为刘备的去世感到惋惜。他们决定举办一个盛大的葬礼来表达对刘备的敬意。' character='曹操' generator_func=None[0m
